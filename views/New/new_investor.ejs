<%- include ('.././header.ejs') %>
<div class="hk-pg-wrapper">
    <div class="container-xxl">
         <!-- Page Header -->
         <div class="hk-pg-header pg-header-wth-tab pt-7">
            <div class="d-flex">

                <div class="d-flex flex-wrap justify-content-between flex-1">
                    <div class="mb-lg-0 mb-2 me-8">
                        <h1 class="pg-title">New Investor</h1>
                        <p>Create pages using a variety of features that leverage jampack components</p>
                    </div>
                    <div class="pg-header-action-wrap">
                        <div class="input-group w-300p">
                            <span class="input-affix-wrapper">
                                <span class="input-prefix"><span class="feather-icon"><i data-feather="calendar"></i></span></span>
                                <input class="form-control form-wth-icon" name="date" id="date" readonly>

                            </span>
                        </div>
                    </div>
                </div>
            </div>

            
            
       
        </div>
        <!-- /Page Header -->									
<form class="row g-3 mt-5" id="myForm" method="post" enctype="multipart/form-data">
	<div class="col-md-6">
		<label for="inputEmail4" class="form-label">Name</label>
		<input type="text" name="name" id="name" required class="form-control" placeholder="Investor Name">
	</div>
	<div class="col-md-6">
		<label for="inputAddress" class="form-label">Mobile Number</label>
		<input type="text" name="number" id="number" class="form-control"  placeholder="Mobile Number">
	</div>


    <div class="col-md-6">
		<label for="inputEmail4" class="form-label">Interest Rate (If Amount Less Than 2 Lakh)</label>
		<select class="form-control" name="interest_rate1" id="interest_rate1">
            <option value="0.6">0.6%</option>
            <option value="0.7">0.7%</option>
            <option value="0.8">0.8%</option>
            <option value="0.9">0.9%</option>
            <option value="1" selected>1%</option>
           

         </select>
	</div>
	<div class="col-md-6">
		<label for="inputAddress" class="form-label">Interest Rate (If Amount Greater Than 2 Lakh)</label>
        <select class="form-control" name="interest_rate2" id="interest_rate2">
            <option value="0.6">0.6%</option>
            <option value="0.7">0.7%</option>
            <option value="0.8">0.8%</option>
            <option value="0.9" selected>0.9%</option>
            <option value="1">1%</option>
           

         </select>
	</div>
	
	
	
	<div class="col-12">
		<button type="button" onclick="submitForm()" style="float: right;" class="btn btn-primary">Save</button>
	</div>
</form>


<%- include ('.././footer.ejs') %>



     



<script>
function submitForm() {
    const name = $('#name').val();
    const number = $('#number').val();
    const interest_rate1 = $('#interest_rate1').val();
    const interest_rate2 = $('#interest_rate2').val();

   

    // Basic validation checks
    if (name === '') {
        alert('Enter Investor Name');
        return;
    } else if (number === '') {
        alert('Enter Mobile Number');
        return;
    }
    else if (interest_rate1 === '') {
        alert('Enter Interest Rate (If Amount Less Than 2 Lakh)');
        return;
    }
    else if (interest_rate2 === '') {
        alert('Enter Interest Rate (If Amount Greater Than 2 Lakh)');
        return;
    }

    else{
        const loaderOverlay = document.getElementById("loader-overlay");
        loaderOverlay.style.display = "flex"; // Show overlay
        $.post('/dashboard/data/investor/insert', { name, number , interest_rate1 , interest_rate2 }, (data) => {
                if (data.msg === 'success') {
                    alert('Success');
                    window.location.reload()
                } else {
                    alert('An Error Occured Please Try again Later');
                }
                loaderOverlay.style.display = "none"; // Hide overlay after response
            });
    }
}



  </script>
  

													